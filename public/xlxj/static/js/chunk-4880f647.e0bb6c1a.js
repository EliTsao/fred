(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4880f647"],{ac19:function(e,t,r){},e382:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"className"},[r("el-card",{staticClass:"anoCard"},[r("div",{attrs:{slot:"header"},slot:"header"},[r("span",[e._v("用户管理")])]),r("div",{staticClass:"searchDiv"},[r("el-select",{staticClass:"width1",attrs:{clearable:"",placeholde:"请选择查询项目"},model:{value:e.sch_status,callback:function(t){e.sch_status=t},expression:"sch_status"}},e._l(e.options,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),r("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.queryData}},[e._v("搜索")]),r("el-button",{attrs:{type:"primary",icon:"el-icon-user"},on:{click:e.handleEdit}},[e._v("添加用户")])],1),r("el-table",{attrs:{data:e.list,border:"",stripe:""}},[r("el-table-column",{attrs:{prop:"serialNumber",label:"工号"}}),r("el-table-column",{attrs:{prop:"userName",label:"用户名"}}),r("el-table-column",{attrs:{prop:"phone",label:"电话号码"}}),r("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[r("el-button",{attrs:{type:"text"},on:{click:function(t){return e.handleEdit(a)}}},[e._v("编辑")]),r("el-button",{attrs:{type:"text"},on:{click:function(t){return e.handleDelete(a)}}},[e._v("删除")])]}}])})],1),r("el-pagination",{staticClass:"fyDiv",attrs:{background:"",layout:"total, sizes, prev, pager, next","page-sizes":e.pageSizes,"page-size":e.pageSize,"current-page":e.currentPage,total:e.total},on:{"size-change":e.handleSize,"current-change":e.handlePage}})],1),r("edit",{ref:"edit",on:{"fetch-data":e.fetchData}})],1)},s=[],n=(r("6a61"),r("2e91")),o=r("b775");function i(e){return Object(o["a"])({url:"userManagement/findAllUser",method:"get",data:e})}function l(e){return Object(o["a"])({url:"userManagement/deleteUser",method:"delete",params:e})}function u(e){return Object(o["a"])({url:"userManagement/addUser",method:"post",data:e})}function c(e){return Object(o["a"])({url:"robot/find",method:"get",params:e})}var f=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:e.title,visible:e.dialogFormVisible,width:"500px"},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.close}},[r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"用户名",prop:"userName"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName","string"===typeof t?t.trim():t)},expression:"form.userName"}})],1),r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{attrs:{type:"password","auto-complete":"on"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password","string"===typeof t?t.trim():t)},expression:"form.password"}})],1),r("el-form-item",{attrs:{label:"电话号码",prop:"phone"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone","string"===typeof t?t.trim():t)},expression:"form.phone"}})],1),r("el-form-item",{attrs:{label:"序列号",prop:"serialNumber"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.serialNumber,callback:function(t){e.$set(e.form,"serialNumber","string"===typeof t?t.trim():t)},expression:"form.serialNumber"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.close}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("确 定")])],1)],1)},m=[],d={name:"UserManagementEdit",data:function(){return{form:{userName:"",password:"",phone:"",serialNumber:""},rules:{userName:[{required:!0,trigger:"blur",message:"请输入用户名"}],password:[{required:!0,trigger:"blur",message:"请输入密码"}],phone:[{required:!0,trigger:"blur",message:"请输入电话号码"}],serialNumber:[{required:!0,trigger:"blur",message:"请输入序列号"}]},title:"",dialogFormVisible:!1}},created:function(){},methods:{showEdit:function(e){e?(this.title="编辑",this.form=Object.assign({},e)):this.title="添加",this.dialogFormVisible=!0},close:function(){this.$refs["form"].resetFields(),this.form=this.$options.data().form,this.dialogFormVisible=!1},save:function(){var e=this;this.$refs["form"].validate(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(r){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=10;break}return t.next=3,u(e.form);case 3:a=t.sent,s=a.msg,e.$baseMessage(s,"success"),e.$emit("fetch-data"),e.close(),t.next=11;break;case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},p=d,h=r("5d22"),b=Object(h["a"])(p,f,m,!1,null,null,null),g=b.exports,v={components:{Edit:g},data:function(){return{total:0,totalPage:1,tableData:[],list:null,schArr:[],sch_order:"",sch_status:null,sch_date:null,currentPage:1,pageSize:10,pageSizes:[10,20,30,40],diaIsShow:!1,formData:{},editType:""}},created:function(){this.fetchData()},methods:{setSelectRows:function(e){this.selectRows=e},handleEdit:function(e){e.id?this.$refs["edit"].showEdit(e):this.$refs["edit"].showEdit()},handleDelete:function(e){var t=this,r=e.id;this.$confirm("此操作将永久删除用户，是否继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"danger"}).then(Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log({userId:r}),l({userId:r}).then((function(e){if(console.log(e),200!==e.code)return t.$message.error("删除用户失败");t.$message.success("删除用户成功"),t.fetchData()}));case 2:case"end":return e.stop()}}),e)})))).catch((function(){return t.$message.info("已经取消删除")}))},updateUser:function(e){},handleSizeChange:function(e){this.queryForm.pageSize=e,this.fetchData()},handleCurrentChange:function(e){this.queryForm.pageNo=e,this.fetchData()},queryData:function(e){console.log(this.queryForm.username);var t={id:parseInt(this.queryForm.username)};c(t).then((function(e){console.log(e)})),this.fetchData(this.queryForm.username)},fetchData:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.listLoading=!0,t.next=3,i(e.queryForm);case 3:r=t.sent,a=r.data,s=r.totalCount,e.list=a,e.total=s,setTimeout((function(){e.listLoading=!1}),300);case 9:case"end":return t.stop()}}),t)})))()}}},w=v,y=(r("f4b0"),Object(h["a"])(w,a,s,!1,null,"eb2c83d4",null));t["default"]=y.exports},f4b0:function(e,t,r){"use strict";r("ac19")}}]);